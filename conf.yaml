input_file: "data/ny_accidents.csv"
ingestion:
  timestamp_columns:
    Start_Time: "%Y-%m-%d %H:%M:%S"
    End_Time: "%Y-%m-%d %H:%M:%S"
  deduping_keys: ["Start_Time", "End_Time", "City"]

feature_creation:
  roadway_clearance_time:
    winsorizing_ratio: [0.0, 0.95]
  street_type:
    rules:
      County_Route: "COUNTY\\sROUTE" # The ordering of rules is important here - first match takes precedence
      State_Route: "STATE\\sROUTE|(?:NY)-[0-9]+"
      Federal_Route: "ROUTE|(?:I|US)-[0-9]+|NORTHWAY"
      Spur: "\\bSPUR\\b"
      Expressway: "SKWY|\\bBYP\\b|\\bEXP\\b|EXPY|GOETHALS"
      Highway: "HWY|TRWY|HIGHWAY"
      Bridge_Tunnel: "\\bBRG\\b|BRIDGE|\\bTUNL\\b"
      Turnpike: "TPKE|INNER\\sLOOP"
      Parkway: "PKWY|PARKWAY"
      Avenue: "\\bAVE\\b|AVENUE"
      Circuit: "\\bCT\\b|\\bCIR\\b"
      Road: "\\bRD\\b|ROAD"
      Drive: "\\bDR\\b|ARTERIAL"
      Boulevard_Place: "\\bBLVD\\b|\\bVLG|BROADWAY|\\bPL\\b|PLZ|SQ\\b|LINDEN\\sOAKS|GRAND\\sCONCOURSE"
      Numbered_Street: "(?:ST|ND|RD|TH)\\.?\\sST(?:REET)?"
      Street: "STREET|SREET|\\bST\\b"
      Mall_Lane: "\\bMALL\\b|\\bLN\\b"
      Park_Causeway: "PARK\\b|PATH|TRAIL|\\bTRL\\b|GREENWAY|LOCKHART\\sLOOP|PEDESTRIAN|CRK|FERRY|\\bPASS|BIKEWAY|\\bACRES\\b|\\bCAMP\\b|CSWY"
    default: "Street"
  Weather_Condition:
    number_clusters: 4
    algorithm: "ward"
    cluster_names: ["Clear", "Overcast", "Snow", "Fog"]
    default_cluster: "Clear" # This identifies where null values should be moved to
    font_size: 10 # This specifies how big the labels should be
    fig_size: [20,8]
  Hour:
    number_clusters: 4
    algorithm: "ward"
    cluster_names: [ "Clear", "Overcast", "Snow", "Fog" ]
    default_cluster: "Clear" # This identifies where null values should be moved to
    font_size: 10 # This specifies how big the labels should be
    fig_size: [ 20,8 ]
  County:
    number_clusters: 5
    algorithm: "average"
    cluster_names: [ "Rural", "Urban_Centre", "Regional_Centre", "Upstate_West", "Upstate_East"]
    default_cluster: "Urban_Centre" # This identifies where null values should be moved to
    font_size: 8 # This specifies how big the labels should be
    fig_size: [20,8]
  Road_Type:
    number_clusters: 6
    algorithm: "ward"
    cluster_names: [ "Metropolitan", "State and Federal Routes", "County Route", "Spur", "Boulevards_Places", "Circuits"]
    default_cluster: "Metropolitan" # This identifies where null values should be moved to
    font_size: 10 # This specifies how big the labels should be
    fig_size: [ 20,8 ]
modelling:
  columns_to_dummy: ["Weather_Cluster", "Road_Type", "Road_Type_Cluster", "County_Cluster", "County",
                     "Astronomical_Twilight", "Nautical_Twilight", "Sunrise_Sunset", "Civil_Twilight",
                     "Nautical_Twilight"]
  columns_to_impute:
    Temperature.F.: "median"
    Visibility.mi.: "median"
    Wind_Speed.mph.: "median"
    Wind_Chill.F.: "median"
    Precipitation.in.: "median"
    Sunrise_Sunset: "mode"
    Civil_Twilight: "mode"
    Nautical_Twilight: "mode"
    Astronomical_Twilight: "mode"
  test_split: 0.25
  response: "Severity"
  predictors:
    - "Temperature.F."
    - "Wind_Chill.F."
    - "Visibility.mi."
    - "Wind_Speed.mph."
    - "Precipitation.in."
    - "Amenity"
    - "Bump"
    - "Crossing"
    - "Give_Way"
    - "Junction"
    - "No_Exit"
    - "Railway"
    - "Roundabout"
    - "Station"
    - "Stop"
    - "Traffic_Calming"
    - "Traffic_Signal"
    - "Sunrise_Sunset_Night"
    - "Civil_Twilight_Night"
    - "Nautical_Twilight_Night"
    - "Astronomical_Twilight_Night"
    - "Roadway_Clearance_Time"
    #- "Weather_Cluster_Clear"
    - "Weather_Cluster_Fog"
    - "Weather_Cluster_Overcast"
    - "Weather_Cluster_Snow"
    #- "Road_Type_Avenue"
    - "Road_Type_Boulevard_Place"
    - "Road_Type_Bridge_Tunnel"
    - "Road_Type_Circuit"
    - "Road_Type_County_Route"
    - "Road_Type_Drive"
    - "Road_Type_Expressway"
    - "Road_Type_Federal_Route"
    - "Road_Type_Highway"
    - "Road_Type_Mall_Lane"
    - "Road_Type_Numbered_Street"
    - "Road_Type_Park_Causeway"
    - "Road_Type_Parkway"
    - "Road_Type_Road"
    - "Road_Type_Spur"
    - "Road_Type_State_Route"
    - "Road_Type_Street"
    - "Road_Type_Turnpike"
    #- "Road_Type_Cluster_Boulevards_Places"
    - "Road_Type_Cluster_Circuits"
    - "Road_Type_Cluster_County Route"
    - "Road_Type_Cluster_Metropolitan"
    - "Road_Type_Cluster_Spur"
    - "Road_Type_Cluster_State and Federal Routes"
    #- "County_Cluster_Regional_Centre"
    - "County_Cluster_Rural"
    - "County_Cluster_Upstate_East"
    - "County_Cluster_Upstate_West"
    - "County_Cluster_Urban_Centre"
    #- "County_Albany"
    - "County_Allegany"
    - "County_Bronx"
    - "County_Broome"
    - "County_Cattaraugus"
    - "County_Cayuga"
    - "County_Chautauqua"
    - "County_Chemung"
    - "County_Chenango"
    - "County_Clinton"
    - "County_Columbia"
    - "County_Cortland"
    - "County_Delaware"
    - "County_Dutchess"
    - "County_Erie"
    - "County_Essex"
    - "County_Franklin"
    - "County_Fulton"
    - "County_Genesee"
    - "County_Greene"
    - "County_Hamilton"
    - "County_Herkimer"
    - "County_Jefferson"
    - "County_Kings"
    - "County_Lewis"
    - "County_Livingston"
    - "County_Madison"
    - "County_Monroe"
    - "County_Montgomery"
    - "County_Nassau"
    - "County_New York"
    - "County_Niagara"
    - "County_Oneida"
    - "County_Onondaga"
    - "County_Ontario"
    - "County_Orange"
    - "County_Orleans"
    - "County_Oswego"
    - "County_Otsego"
    - "County_Putnam"
    - "County_Queens"
    - "County_Rensselaer"
    - "County_Richmond"
    - "County_Rockland"
    - "County_Saint Lawrence"
    - "County_Saratoga"
    - "County_Schenectady"
    - "County_Schoharie"
    - "County_Schuyler"
    - "County_Seneca"
    - "County_St. Lawrence"
    - "County_Steuben"
    - "County_Suffolk"
    - "County_Sullivan"
    - "County_Tioga"
    - "County_Tompkins"
    - "County_Ulster"
    - "County_Warren"
    - "County_Washington"
    - "County_Wayne"
    - "County_Westchester"
    - "County_Wyoming"
    - "County_Yates"
